(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b6661c0"],{"00a1":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"suwis-simple-good"},[a("ul",{staticClass:"list"},[a("li",{staticClass:"item",on:{click:t.toggleCheck}},[a("img",{staticClass:"image",attrs:{src:t.storeLogo,alt:"商品"}}),a("div",{staticClass:"info",style:t.infoStyle},[a("div",{staticClass:"name"},[t._v(t._s(t.name))]),t.desc&&t.desc.length?[a("div",{staticClass:"desc"},t._l(t.desc,function(e){return a("span",[t._v(t._s(e))])}),0)]:t._e()],2),t.hasCheckbox?a("div",{staticClass:"checkbox"},[a("van-checkbox",{attrs:{"checked-color":"#e83f44"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1):t._e()])])])},i=[],o={props:{name:name,desc:{type:Array,default:function(t){return[""]}},storeLogo:{type:String},hasCheckbox:{type:Boolean,default:!1}},data:function(){return{checked:!0,infoStyle:this.hasCheckbox?{width:"calc(100% - 88px)"}:{width:"calc(100% - 48px)"}}},methods:{toggleCheck:function(){this.hasCheckbox&&(this.checked=!this.checked)}}},c=o,l=(a("9a00"),a("2877")),n=Object(l["a"])(c,s,i,!1,null,"103fdf6e",null);e["a"]=n.exports},"0b39":function(t,e,a){},"3fd4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"suwis-comment"},[a("main",{staticClass:"content"},[a("SimpleGood",{attrs:{name:t.detail.goods_name,"store-logo":t.detail.store_logo}}),a("ul",{staticClass:"comment-list"},[a("li",{staticClass:"comment-item"},[a("div",{staticClass:"name"},[t._v("商品品质")]),a("van-rate",{staticClass:"comment",attrs:{size:24,color:"#f0914b","void-icon":"star","void-color":"#c9c8c8"},model:{value:t.evaluate_quality,callback:function(e){t.evaluate_quality=e},expression:"evaluate_quality"}})],1),a("li",{staticClass:"comment-item"},[a("div",{staticClass:"name"},[t._v("商家服务")]),a("van-rate",{staticClass:"comment",attrs:{size:24,color:"#f0914b","void-icon":"star","void-color":"#c9c8c8"},model:{value:t.evaluate_serve,callback:function(e){t.evaluate_serve=e},expression:"evaluate_serve"}})],1),a("li",{staticClass:"comment-item"},[a("div",{staticClass:"name"},[t._v("快递评价")]),a("van-rate",{staticClass:"comment",attrs:{size:24,color:"#f0914b","void-icon":"star","void-color":"#c9c8c8"},model:{value:t.evaluate_express,callback:function(e){t.evaluate_express=e},expression:"evaluate_express"}})],1)]),a("van-field",{attrs:{type:"textarea",placeholder:"商品满足您的期待吗？说说你的使用心得，分享给想买的他们吧～",rows:"3",autosize:""},model:{value:t.evaluate,callback:function(e){t.evaluate="string"===typeof e?e.trim():e},expression:"evaluate"}}),a("div",{staticClass:"upload-line"},[t._l(t.imgList,function(e,s){return a("img",{key:e,staticClass:"image-item",attrs:{src:e},on:{click:function(e){return t.removeImg(s)}}})}),a("van-uploader",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<5,expression:"imgList.length < 5"}],attrs:{"after-read":t.onRead,accept:"image/gif, image/jpeg","max-size":t.maxSize},on:{oversize:t.oversize}},[a("div",{staticClass:"icon-line"},[a("van-icon",{attrs:{name:"photograph",size:"24px",color:"rgb(180, 180, 180)"}})],1),a("div",{staticClass:"upload-text"},[t._v("添加图片")])])],2),a("div",{staticClass:"button-line"},[a("div",{staticClass:"deploy",on:{click:t.submit}},[t._v("发布")])])],1)])},i=[],o=a("00a1"),c={components:{SimpleGood:o["a"]},data:function(){return{detail:{},evaluate:"",evaluate_quality:5,evaluate_serve:5,evaluate_express:5,maxSize:512e3,imgList:[],orderId:""}},methods:{onRead:function(t){var e=this;if(this.imgList>=5)this.$toast("最多只能上传5张图片");else{var a=new FormData;a.append("file",t.file),this.$axios.post("/index/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var a=t.data;1===a.code?a.data&&e.imgList.push(a.data):e.$toast(a.msg)})}},oversize:function(){var t=Math.floor(this.maxSize/1024);this.$toast("上传图片最大不能超过".concat(t,"KB"))},removeImg:function(t){var e=this;this.$dialog.confirm({message:"确定移除该图片吗"}).then(function(){e.imgList.splice(t,1)})},submit:function(){var t=this,e=this.orderId,a=this.evaluate,s=this.evaluate_quality,i=this.evaluate_serve,o=this.evaluate_express,c=this.imgList;this.$axios.post("/order/evaluate",{order_id:e,evaluate:a,evaluate_quality:s,evaluate_serve:i,evaluate_express:o,evaluate_img:c}).then(function(e){var a=e.data;1===a.code?(t.$toast("发布成功"),t.$router.push("/uc/orders")):t.$toast(a.msg)})}},created:function(){var t=this;this.orderId=this.$route.query.id,this.$axios.post("/order/detail",{id:this.orderId}).then(function(e){var a=e.data;1===a.code?a.data&&(t.detail=a.data):t.$toast(a.msg)})}},l=c,n=(a("9b10"),a("2877")),r=Object(n["a"])(l,s,i,!1,null,"20808e93",null);e["default"]=r.exports},"91fb":function(t,e,a){},"9a00":function(t,e,a){"use strict";var s=a("91fb"),i=a.n(s);i.a},"9b10":function(t,e,a){"use strict";var s=a("0b39"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-4b6661c0.17b6e68d.js.map