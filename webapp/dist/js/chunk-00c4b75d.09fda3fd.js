(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00c4b75d"],{"00a1":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"suwis-simple-good"},[s("ul",{staticClass:"list"},[s("li",{staticClass:"item",on:{click:t.toggleCheck}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.storeLogo,expression:"storeLogo"}],staticClass:"image",attrs:{src:t.storeLogo,alt:"商品"}}),s("div",{staticClass:"info",style:t.infoStyle},[s("div",{staticClass:"name"},[t._v(t._s(t.name))]),t.desc&&t.desc.length?[s("div",{staticClass:"desc"},t._l(t.desc,function(e){return s("span",{key:e,staticClass:"desc-item"},[t._v(t._s(e))])}),0)]:t._e()],2),t.hasCheckbox?s("div",{staticClass:"checkbox"},[s("van-checkbox",{attrs:{"checked-color":"#e83f44"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1):t._e()])])])},n=[],i={props:{name:name,desc:{type:Array,default:function(t){return[""]}},storeLogo:{type:String},hasCheckbox:{type:Boolean,default:!1}},data:function(){return{checked:!0,infoStyle:this.hasCheckbox?{width:"calc(100% - 88px)"}:{width:"calc(100% - 48px)"}}},methods:{toggleCheck:function(){this.hasCheckbox&&(this.checked=!this.checked)}}},o=i,c=(s("07e4"),s("2877")),r=Object(c["a"])(o,a,n,!1,null,"1b410c96",null);e["a"]=r.exports},"07e4":function(t,e,s){"use strict";var a=s("277c"),n=s.n(a);n.a},"0a49":function(t,e,s){var a=s("9b43"),n=s("626a"),i=s("4bf8"),o=s("9def"),c=s("cd1c");t.exports=function(t,e){var s=1==t,r=2==t,l=3==t,d=4==t,u=6==t,h=5==t||u,v=e||c;return function(e,c,f){for(var m,p,g=i(e),k=n(g),_=a(c,f,3),C=o(k.length),x=0,y=s?v(e,C):r?v(e,0):void 0;C>x;x++)if((h||x in k)&&(m=k[x],p=_(m,x,g),t))if(s)y[x]=p;else if(p)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:y.push(m)}else if(d)return!1;return u?-1:l||d?d:y}}},"277c":function(t,e,s){},"294d":function(t,e,s){},"4ede":function(t,e,s){"use strict";var a=s("294d"),n=s.n(a);n.a},"70cc":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"suwis-apply-refund"},[s("main",{staticClass:"content"},[s("SimpleGood",{attrs:{name:t.goodInfo.goods_name,desc:[t.goodInfo.header_one,t.goodInfo.header_two,t.goodInfo.header_three],"store-logo":t.goodInfo.goods_img}}),s("ul",{staticClass:"list"},["refund"===t.type?s("li",{staticClass:"item",on:{click:t.showStatus}},[s("div",{staticClass:"name"},[t._v("货物状态")]),s("div",{staticClass:"value"},[t._v("\n                    "+t._s(t._f("goodsStatus")(t.status))+"\n                    "),s("van-icon",{attrs:{name:"arrow",size:"10px",color:"rgb(180, 180, 180)"}})],1)]):t._e(),s("li",{staticClass:"item",on:{click:t.showReason}},[s("div",{staticClass:"name"},[t._v(t._s("exchange"===t.type?"换货":"退款")+"原因：")]),s("div",{staticClass:"value"},[t._v("\n                    "+t._s(t._f("reason")(t.reason))+"\n                    "),s("van-icon",{attrs:{name:"arrow",size:"10px",color:"rgb(180, 180, 180)"}})],1)]),"refund"===t.type||"return"===t.type?s("li",{staticClass:"item"},[s("div",{staticClass:"name"},[t._v("退款金额")]),s("div",{staticClass:"value"},[s("span",{staticClass:"color-red price"},[t._v("￥"+t._s(t.goodInfo.sum))])])]):t._e(),"exchange"===t.type?s("li",{staticClass:"item address",on:{click:t.selectAddress}},[s("div",{staticClass:"name"},[t._v("换货地址")]),s("div",{staticClass:"address-box"},[s("div",{staticClass:"address-top"},[s("span",{staticClass:"address-name"},[t._v(t._s(t.address.name))]),s("span",{staticClass:"address-tel"},[t._v(t._s(t.address.tel))])]),s("div",{staticClass:"address"},[t._v(t._s(t._f("location")(t.address)))])]),s("div",{staticClass:"value"},[s("van-icon",{attrs:{name:"arrow",size:"10px",color:"rgb(180, 180, 180)"}})],1)]):t._e(),s("li",{staticClass:"item remark"},[s("div",{staticClass:"name"},[t._v(t._s("exchange"===t.type?"换货":"退款")+"说明：")]),s("van-field",{attrs:{placeholder:"exchange"===t.type?"请输入换货说明（选填）":"请输入退款说明（选填）"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)]),s("div",{staticClass:"card"},[t._m(0),s("div",{staticClass:"upload-line"},[t._l(t.imgList,function(e,a){return s("img",{key:e,staticClass:"image-item",attrs:{src:e},on:{click:function(e){return t.removeImg(a)}}})}),s("van-uploader",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<3,expression:"imgList.length < 3"}],attrs:{"after-read":t.onRead,accept:"image/gif, image/jpeg","max-size":t.maxSize},on:{oversize:t.oversize}},[s("div",{staticClass:"icon-line"},[s("van-icon",{attrs:{name:"photograph",size:"24px",color:"rgb(180, 180, 180)"}})],1),s("div",{staticClass:"upload-text"},[t._v("添加图片")])])],2)]),s("div",{staticClass:"button-line"},[s("div",{staticClass:"deploy",on:{click:t.submit}},[t._v("提交")])])],1),s("van-actionsheet",{attrs:{title:"货物状态"},model:{value:t.statusShow,callback:function(e){t.statusShow=e},expression:"statusShow"}},[s("van-radio-group",{model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[s("van-cell-group",[s("van-cell",{attrs:{title:"已收到货",clickable:""},nativeOn:{click:function(e){return t.changeStatus("1")}}},[s("van-radio",{attrs:{name:"1"},nativeOn:{click:function(e){return t.changeStatus("1")}}})],1),s("van-cell",{attrs:{title:"未收到货",clickable:""},nativeOn:{click:function(e){return t.changeStatus("2")}}},[s("van-radio",{attrs:{name:"2"},nativeOn:{click:function(e){return t.changeStatus("2")}}})],1)],1)],1)],1),s("van-actionsheet",{attrs:{title:"退款原因"},model:{value:t.reasonShow,callback:function(e){t.reasonShow=e},expression:"reasonShow"}},[s("van-radio-group",{model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}},[s("van-cell-group",[s("van-cell",{attrs:{title:"7天无理由退款",clickable:""},nativeOn:{click:function(e){return t.changeReason("1")}}},[s("van-radio",{attrs:{name:"1"},nativeOn:{click:function(e){return t.changeReason("1")}}})],1),s("van-cell",{attrs:{title:"地址、商品信息填写错误",clickable:""},nativeOn:{click:function(e){return t.changeReason("2")}}},[s("van-radio",{attrs:{name:"2"},nativeOn:{click:function(e){return t.changeReason("2")}}})],1),s("van-cell",{attrs:{title:"商家缺货",clickable:""},nativeOn:{click:function(e){return t.changeReason("3")}}},[s("van-radio",{attrs:{name:"3"},nativeOn:{click:function(e){return t.changeReason("3")}}})],1),s("van-cell",{attrs:{title:"其他",clickable:""},nativeOn:{click:function(e){return t.changeReason("4")}}},[s("van-radio",{attrs:{name:"4"},nativeOn:{click:function(e){return t.changeReason("4")}}})],1)],1)],1)],1)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[t._v("\n                上传凭证\n                "),s("span",{staticClass:"subtitle"},[t._v("（最多3张）")])])}],i=(s("7514"),s("00a1")),o={refund:"退款",return:"退货退款",exchange:"换货"},c={1:"7天无理由退款",2:"地址、商品信息填写错误",3:"商家缺货",4:"其他"},r={components:{SimpleGood:i["a"]},filters:{goodsStatus:function(t){var e={1:"已收到货",2:"未收到货"};return t?e[t]:"请选择"},location:function(t){return t.province+t.city+t.area+t.address||"---"},reason:function(t){return t?c[t]:"请选择"}},data:function(){return{address:{},address_id:"",goodInfo:{},id:"",maxSize:512e3,imgList:[],remark:"",reason:"",status:"",type:"",reasonShow:!1,statusShow:!1}},methods:{changeReason:function(t){this.reason=t,this.reasonShow=!1},changeStatus:function(t){this.status=t,this.statusShow=!1},selectAddress:function(){var t=this.id,e=this.type;this.$router.push({path:"/uc/setting/address",query:{from:this.$route.path,id:t,type:e}})},showReason:function(){this.reasonShow=!0},showStatus:function(){this.statusShow=!0},onRead:function(t){var e=this;if(this.imgList>=5)this.$toast("最多只能上传5张图片");else{var s=new FormData;s.append("file",t.file),this.$axios.post("/index/upload",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var s=t.data;1===s.code?s.data&&e.imgList.push(s.data):e.$toast(s.msg)})}},oversize:function(){var t=Math.floor(this.maxSize/1024);this.$toast("上传图片最大不能超过".concat(t,"KB"))},removeImg:function(t){var e=this;this.$dialog.confirm({title:"移除图片",message:"确定移除该图片吗"}).then(function(){e.imgList.splice(t,1)})},submit:function(){var t=this;this.imgList.length||this.$toast("请至少上传一张图片凭证"),this.reason||this.$toast("请选择原因"),this.$axios.post("/order/aftersale",{order_id:this.id,type:o[this.type],reason:c[this.reason],remark:this.remark,address_id:"exchange"===this.type?this.address.id:void 0,imgs:this.imgList}).then(function(e){var s=e.data;1===s.code?(t.$router.push("/uc/orders"),t.$toast("已提交售后申请")):t.$toast(s.msg)})}},created:function(){var t=this;this.id=this.$route.query.id,this.type=this.$route.query.type,this.address_id=this.$route.query.address_id,this.$axios.post("/order/detail",{id:this.id}).then(function(e){var s=e.data;1===s.code?s.data&&(t.goodInfo=s.data):t.$toast(s.msg)}),this.$axios.post("/user/alladdress").then(function(e){var s=e.data;1===s.code?s.data&&(t.address=s.data.find(function(e){return t.address_id?e.id===+t.address_id:1===e.sta})):t.$toast(s.msg)})}},l=r,d=(s("4ede"),s("2877")),u=Object(d["a"])(l,a,n,!1,null,"a680dcf6",null);e["default"]=u.exports},7514:function(t,e,s){"use strict";var a=s("5ca1"),n=s("0a49")(5),i="find",o=!0;i in[]&&Array(1)[i](function(){o=!1}),a(a.P+a.F*o,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(i)},cd1c:function(t,e,s){var a=s("e853");t.exports=function(t,e){return new(a(t))(e)}},e853:function(t,e,s){var a=s("d3f4"),n=s("1169"),i=s("2b4c")("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),a(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-00c4b75d.09fda3fd.js.map