(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88653fcc"],{"2ca7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEXzkEL////wkUvzpWvwkEnwjkjwkEnwkUrwkUrwkEvxl1TynmH98ef85dT++PT0rXr4y6n62sP3wZn50rb1t4n4pWZsAAAACnRSTlMC////dhpl0cb02o/3zAAAAbZJREFUSMetVtuWwiAM5KJWEwIU+P9vXW7VVonK7uZFz2kGkmEmIIQQl+tNfRG360WUOC/q61jOc/kVcVJTcRLXOcBV3OYAN6Em4+8A58lYKaWhNeBHAPqS+wgK8A4AUb6ESTwASI4isIBVjsMxAGDyZWQAmgPQfwGQA6xc04YBBA6QxvmGoxVVsqMOALimncLDUdg1ep/r4UrSRudtwnbc63ZewAKkrZ/ApeB9SdcpJM2LD3IH1rutYujCtZHrQfne5VqWdw8CrGN2eKhPK3dgKo17yLyarjZs6xtqFFg9BBTNpJKBbS8qaY1pGrNErpHUZJUlhC67Oh49cfQDtQ+hlAGFhtg15lnHWfKtoqgAvVwRKpxGADQbR1Q1Gru43UGBux6gT40N4PN8siZWFQ8BuV692tJg7LZpPfiDifYsFRFAyudcnYEdAOZgooNFTR90UGcl7rjAUdP1VMkXgVZZVbijp0mzA2h7H0TQCdt+cDxbtbnPOtxPhL2UnqZ3MNuK8HAr4bv7QXvKlRW3ukJxNnb6fAOhdrr/eb1S5i/F6Wt3+mIXc0+HXzxOcpyW754/S65H/ADTKx0Erw86oQAAAABJRU5ErkJggg=="},"2fdb":function(t,e,a){"use strict";var s=a("5ca1"),n=a("d2c8"),r="includes";s(s.P+s.F*a("5147")(r),"String",{includes:function(t){return!!~n(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"42f0":function(t,e,a){},5090:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"suwis-button-line"},t._l(t.buttonList,function(e){return a("van-button",{key:e.key,attrs:{plain:"",round:"",size:"small",type:e.type},on:{click:function(a){return t.onClick(e.key)}}},[t._v(t._s(e.name)+"\n    ")])}),1)},n=[],r=(a("c5f6"),{props:{buttonList:Array,orderId:Number},methods:{onClick:function(t){this.$emit("on-click",t,this.orderId)}}}),o=r,i=(a("833b"),a("2877")),c=Object(i["a"])(o,s,n,!1,null,"0cf77050",null);e["a"]=c.exports},5147:function(t,e,a){var s=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,!"/./"[t](e)}catch(n){}}return!0}},5404:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"suwis-order-list"},[a("van-tabs",{attrs:{animated:""},on:{change:t.onClickTab},model:{value:t.activeTabIndex,callback:function(e){t.activeTabIndex=e},expression:"activeTabIndex"}},t._l(t.tabList,function(e){return a("van-tab",{key:e.key,attrs:{title:e.name}},[a("van-list",{attrs:{"finished-text":"没有订单记录了","error-text":"请求失败，点击重新加载",error:t.error,finished:t.finished},on:{"update:error":function(e){t.error=e},load:function(e){return t.getList("add")}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.list&&t.list.length?t._l(t.list,function(e){return a("ShopItem",{key:Array.isArray(e)?e[0].id:e.id,attrs:{"shop-data":Array.isArray(e)?e[0]:e,"goods-list":Array.isArray(e)?e:[e]},on:{"on-click-item":t.onClickOrder},scopedSlots:t._u([{key:"footer",fn:function(){return[a("ButtonLine",{attrs:{"button-list":t._f("buttonList")(Array.isArray(e)?e[0].sta:e.sta),"order-id":Array.isArray(e)?e[0].id:e.id},on:{"on-click":t.onButtonClick}})]},proxy:!0}],null,!0)})}):t._e()],2)],1)}),1),a("ScorePay",{attrs:{show:t.payTypeShow}}),a("van-actionsheet",{attrs:{title:"请输入支付密码","close-on-click-overlay":!1},on:{cancel:t.closePasswordModal},model:{value:t.passwordModalShow,callback:function(e){t.passwordModalShow=e},expression:"passwordModalShow"}},[a("van-password-input",{attrs:{value:t.password}}),a("div",{staticClass:"link-line"},[a("router-link",{staticClass:"forget-password",attrs:{to:"/resetpaypwd"}},[t._v("忘记支付密码？")])],1),a("van-number-keyboard",{attrs:{show:!0},on:{input:t.onPasswordInput,delete:t.onPasswordDelete}})],1)],1)},n=[],r=(a("6762"),a("2fdb"),a("7923")),o=a("5090"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-actionsheet",{attrs:{title:"确认付款"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"请选择付款方式"}}),a("van-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.typeList,function(e){return a("van-radio",{key:e.key,attrs:{name:e.key}},[a("div",{staticClass:"check-line"},[a("img",{staticClass:"pay-image",attrs:{src:e.imgUrl,alt:"pay.name"}}),t._v("\n                    "+t._s(e.name)+"\n                    ")])])}),1)],1)],1)},c=[],u={props:{show:{type:Boolean,default:!1}},data:function(){return{radio:"aliPay",typeList:[{key:"aliPay",name:"支付宝支付",imgUrl:a("f5f1")},{key:"wechatPay",name:"微信支付",imgUrl:a("c9d2")},{key:"unionPay",name:"银联支付",imgUrl:a("e0a4")},{key:"scorePay",name:"佣金余额支付",imgUrl:a("2ca7")}]}}},d=u,l=(a("6342"),a("2877")),A=Object(l["a"])(d,i,c,!1,null,"3e53da40",null),f=A.exports,p=a("80a5"),h=a("6821f"),g=a.n(h),y={name:"OrderList",components:{ButtonLine:o["a"],ShopItem:r["a"],ScorePay:f},filters:{buttonList:function(t){return p["b"].filter(function(e){return e.sta.includes(t)})}},data:function(){return{activeTabIndex:0,currentOrderId:"",error:!1,finished:!1,loading:!1,list:[],num:20,page:1,sta:void 0,payTypeShow:!1,password:"",passwordModalShow:!1,tabList:[{key:"all",name:"全部订单",sta:void 0},{key:"toPay",name:"待付款",sta:0},{key:"toSend",name:"待发货",sta:1},{key:"toReceive",name:"待收货",sta:2},{key:"toEvaluate",name:"待评价",sta:4}]}},methods:{closePasswordModal:function(){this.password=""},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reset";"reset"===e&&(this.list=[],this.page=1);var a=this.num,s=this.page,n=this.sta;this.$axios.post("/order/index",{sta:n,num:a,page:s}).then(function(e){var n=e.data;1===n.code?n.data&&n.data.order&&(t.list=t.list.concat(n.data.order),s*a>n.data.total&&(t.finished=!0)):(t.error=!0,t.$toast(n.msg)),t.page++,t.loading=!1}).catch(function(){t.error=!0})},onClickTab:function(t){this.sta=this.tabList[t].sta,this.getList()},onClickOrder:function(t){this.$router.push({path:"/uc/orders/details",query:{id:t.id}})},onButtonClick:function(t,e){switch(t){case"cancel":this.cancelOrder(e);break;case"pay":this.payOrder(e);break;case"logistics":this.checkLogistics(e);break;case"return":this.returnOrder(e);break;case"receive":this.confirmReceive(e);break;case"evaluate":this.evaluateOrder(e);break;case"delete":this.deleteOrder(e);break}},onPasswordInput:function(t){var e=this;this.password=this.password+t,6===this.password.length&&this.$axios.post("/order/receiving",{order_id:this.currentOrderId,paypass:g()(this.password)}).then(function(t){var a=t.data;1===a.code?(e.$toast("确认收货成功"),e.password="",e.currentOrderId="",e.passwordModalShow=!1,e.getList()):(e.password="",e.$toast(a.msg))})},onPasswordDelete:function(){this.password=this.password.slice(0,this.password.length-1)},cancelOrder:function(t){var e=this;this.$dialog.confirm({message:"该订单还未付款，您确定要取消吗？？"}).then(function(){e.$axios.post("/order/cancel",{number:t}).then(function(t){var a=t.data;1===a.code?(e.$toast("取消订单成功"),e.getList()):e.$toast(a.msg)})})},checkLogistics:function(t){this.$router.push({path:"/uc/orders/logistics-details",query:{id:t}})},payOrder:function(t){this.payTypeShow=!0},returnOrder:function(t){this.$router.push({path:"/uc/orders/servicetype",query:{id:t}})},confirmReceive:function(t){this.passwordModalShow=!0,this.currentOrderId=t},evaluateOrder:function(t){this.$router.push({path:"/uc/orders/comment",query:{id:t}})},deleteOrder:function(t){var e=this;this.$dialog.confirm({message:"您确定要删除该订单吗？"}).then(function(){e.$axios.post("/order/delete",{id:t}).then(function(t){var a=t.data;1===a.code?(e.$toast("删除订单成功"),e.getList()):e.$toast(a.msg)})})}},created:function(){this.activeTabIndex=this.$route.query.activeTabIndex||0,this.sta=this.tabList[this.activeTabIndex].sta}},m=y,k=(a("76ae"),Object(l["a"])(m,s,n,!1,null,"ce6b0de8",null));e["default"]=k.exports},6341:function(t,e,a){"use strict";var s=a("bf5c"),n=a.n(s);n.a},6342:function(t,e,a){"use strict";var s=a("7d66"),n=a.n(s);n.a},6762:function(t,e,a){"use strict";var s=a("5ca1"),n=a("c366")(!0);s(s.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"724c":function(t,e,a){t.exports=a.p+"img/shop-logo.837e28c8.png"},"76ae":function(t,e,a){"use strict";var s=a("ffc7"),n=a.n(s);n.a},7923:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"suwis-order-shop"},[s("div",{staticClass:"header"},[s("div",{staticClass:"shop-info"},[s("img",{staticClass:"shop-logo",attrs:{src:a("724c"),alt:"店铺头像",width:"20",height:"20"}}),s("span",{staticClass:"shop-name"},[t._v(t._s(t.shopData.store_name))]),s("van-icon",{attrs:{name:"arrow"}})],1),s("span",{staticClass:"shop-status"},[t._v(t._s(t._f("status")(t.shopData.sta)))])]),t._l(t.goodsList,function(e){return s("van-card",{key:e.goods_id,attrs:{num:e.num,price:e.goods_price,title:e.goods_name,thumb:e.goods_img},on:{click:function(a){return t.onClick(e)}},scopedSlots:t._u([t.shopData.desc&&t.shopData.desc.length?{key:"desc",fn:function(){return[s("div",{staticClass:"card-desc"},t._l(t.shopData.desc,function(e){return s("span",{key:e},[t._v(t._s(e))])}),0)]},proxy:!0}:null,t.shopData.tags&&t.shopData.tags.length?{key:"tags",fn:function(){return[s("div",{staticClass:"card-tags"},t._l(t.shopData.tags,function(e){return s("van-tag",{staticClass:"card-tag",attrs:{color:"rgba(240,145,75,.16)"}},[t._v(t._s(e))])}),1)]},proxy:!0}:null],null,!0)})}),t.showPrice?s("div",{staticClass:"total-price"},[t._v("共"+t._s(t.totalNum)+"件商品 合计: ￥"+t._s(t.shopData.sum))]):t._e(),t._t("footer")],2)},n=[],r={0:"等待买家付款",1:"等待卖家发货",2:"卖家已发货",3:"等待卖家处理",4:"买家已确认收货",5:"交易成功",6:"交易关闭"},o={props:{goodsList:{type:Array,default:[]},shopData:{type:Object,required:!0},showPrice:{type:Boolean,default:!0}},filters:{status:function(t){return r[t]}},computed:{totalNum:function(){return this.goodsList.reduce(function(t,e){return t+e.num},0)}},data:function(){return{}},methods:{onClick:function(t){this.$emit("on-click-item",t)}}},i=o,c=(a("6341"),a("2877")),u=Object(c["a"])(i,s,n,!1,null,"38afc7aa",null);e["a"]=u.exports},"7d66":function(t,e,a){},"80a5":function(t,e,a){"use strict";a.d(e,"a",function(){return s});var s={1:[{key:"contact",name:"联系卖家",type:"default"},{key:"modify",name:"修改申请",type:"default"},{key:"cancel",name:"撤销申请",type:"warning"}],2:[{key:"contact",name:"联系卖家",type:"default"},{key:"logistics",name:"填写物流",type:"default"},{key:"cancel",name:"撤销申请",type:"warning"}]};e["b"]=[{key:"cancel",name:"取消订单",type:"default",sta:[0]},{key:"pay",name:"付款",type:"warning",sta:[0]},{key:"refund",name:"退款",type:"default",sta:[1]},{key:"return",name:"退/换货",type:"default",sta:[2]},{key:"logistics",name:"查看物流",type:"default",sta:[2,4]},{key:"receive",name:"确认收货",type:"warning",sta:[2]},{key:"viewProgress",name:"查看进度",type:"warning",sta:[3]},{key:"evaluate",name:"评价",type:"warning",sta:[4]},{key:"delete",name:"删除订单",type:"default",sta:[5,6]}]},"833b":function(t,e,a){"use strict";var s=a("42f0"),n=a.n(s);n.a},aae3:function(t,e,a){var s=a("d3f4"),n=a("2d95"),r=a("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},bf5c:function(t,e,a){},c9d2:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAMFBMVEVHcExhukVUszxgukVgukVfukNguURgukVgukVgukRfukNgukVfukJbuUBgukVhuka/oedgAAAAD3RSTlMA7gd/wy1l1Z5MN+EfEbLJvQDgAAABkElEQVQ4y3XUv0rDQBgA8I821ba0Dr5AKlhdUxVREFH6AKmL7djBxak4uAnVQVFULPoAtqPgIIKDorTgC2RyFie3GloTVOh5/5K7JJdvSfL9crncd38AEls6CoVdLgBAFSniCSClq8BuwyxSxj001DAAUw1D0NVgA79xP493AsLhhPz4qxmBFaCRNUOwCzxmgjAqeAAbAfjw81IdMPxZAuBaAockKOYB0hLc4VTSJf1crEFOAgOnNESadL8A+gLapNNF8qna5ea8BKLv1EF5+2bVBz+fOKUVeGty8IdXnWPXJIcez+cevTc6DOr8cbqeJ+8UcTEZvHNYgqlffOnj329Q+OZdv4C2h6+lFhkWgSGDsX1RsQyrrkEf0i0BCQa0iqD1pCI32QzSJuMFCUwGAwpWtMUPuZ9oR/pAk/mFo9uaEfkrdF5i69gPjcM6LbQjoOGvRBoVL59FQXgOVVescD72jB4CNKoEJkoKd9kqXh1mo8DiTI8B1CUQu9ViN2fMdnbiD4DYI0N9yDyQSVEfS//oDM4bVWxtuQAAAABJRU5ErkJggg=="},d2c8:function(t,e,a){var s=a("aae3"),n=a("be13");t.exports=function(t,e,a){if(s(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(t))}},e0a4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAMAAABEQrEuAAAA3lBMVEVHcEyiPkOpOEBZX18Nd4IOdoIPd4IOdoMfRXUbb32cQEVkW12bRUaNPku3ODutPT8bWnp6PVMRfIMDRIDSNDH////LNDP5+/wNToXu9ffG2eImXZEoiY+8NThhi7CiuM7Y6esJXIG42NoNaYM2kZbi8PCGvcAOdIJwsLSBosC+z97j6vHS3enXSkgXf4aTOEj44+NFdaFVfqYEQ38pQHHifHrnkpBbPF3xv76jzc+Rrciuw9b0zMuZx8pZpKn88/NFmZ5tO1c6P2oMQnztrKvdZGJtk7Z3mrscQXaCZn9VHqEUAAAAEnRSTlMAuv4QXJnf+O/3lSxN2eHr8/ESCzaBAAAC2UlEQVRIx42WbXuaMBSGcVW72V3dhjyGBASKgPKiA6nOd93a6vb//9BCcW0l0e6IXn7IneTmJCdRFB6fa91uR3uN+3YlVB79ZuNGKeOq1tVOoptXAF0t47pRAredU0D7Xh3iTj1BalVA+1EleupL1LlDtwqIGv1X4vpKqQlAJ5eJvw7yQSDOaxTRUMRJVTXy3luiqQje2q8L4lxEJC5ryAhBQ3+P+HlRXEZc1pAQnYcL+ZMSH9oXxUtiOJ0OteHkSaZhhWEQeFVigq2mTTGVaVAwCmJWiEfMNG2GcoxTDQNOzwSqRFp0n25LDWNh8IZ6kQddb1uw1R2coumIf9TRqCCG4N0PsRqm2y3+LJiRxaCZFceEtm1EASWbue/6gzU8l5oFMQEpXKZPmM0wTohBkzFsG3tC2jGYu/bWZOfDWyPA4HlWU6SFxnCKyQwG2BjhGAdOghmIef5GhKmUqgMQp/SYAKsVHgtom46x4HNnxCCs/MvzZ4IN4KobYHc0n67S1UTTVukwtUOW6cs4yrLoYEXZPrIK54A6fsDfgCvJ+b/dlOfiwg2IJyF+H9vx16sb/DF6qmnyh/94ZC1ZV91jzwkW4yVNANrfwSegcD3mjESi87ybcj1OwjCj9tiKl/0A3pyYcxa4nmztlhp6ZNv2ASxKYKkOccDmPo+NjCg1jCVCyy6ImC+q9QYDs/iOJMSxRB8SsDBmi6Vl93gifKzBw5XtqLIo5BYiy8LeJknYd+nAd3jyHFO6B4/ZyGDpIYwlbbc94gTE9SjjK0pGHEv0HlgsgQj0bjCfO3DgjqgjI15OGv15fwiFRySE2lYpPCIhnDSVwiMS9+8UHoEQS/TdO4SoISe650u0TOOEEEp0LgH4GfXlfInWZURDaZ0v0TINftbedM9q9KSTUpRW54yGNH/1N9eMh//JX728/LSKq5KgkYsazSOgKDet2u23j9X4+ukkmo36VdH4L7rT0sos9H2aAAAAAElFTkSuQmCC"},f5f1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAOVBMVEVHcEwNlNoLlNwRltsPlNsRltwRltsQldsRl9sRltsRltsRltsPlNsAldsQltsRltsQldsQltsSlttYcBCZAAAAEnRSTlMAHxGbP+DqYYDVvvYtBqmPc1KrlWl+AAABkUlEQVRIx8WVSZaFIAxFQ99Ls//FloJ+QPEXTKreTE8uaUgIwCErNU9fxbW0cAmTNCWCiz1SaVIK5fNZmpY6fGxpQdueb1qSBb8GeBhlzHNyw9op4MO/rwCHtAakvwSU/ChkINYfUg0AAl9EBoAWH8VsROsPof8l6ZQMO6UzIK9PZl6At7TdG6DpQ3nG6K851CAz4OeBkgybB+IjogZgJOw3FLyuB3IHjxmGT8JNVWzQuTAyPyrDexD3UuK4Gf5M+QIOe0yjEBQ3jvKgIjMA9scDXY3At4BaV37UGhZsN9oqVEduj+0OKHCP12+zTWyRsA7wEAcd67oiUK8qEEC+PE2dUNAnIEE87HNESMcbIzTkImEzfNf3KJhwN0elA+Rgc+AyyLwp2Qkc9xaqD0Vve8Z4dAPM/gOVt0eRWGLob2ajHZBYPsJhdAXsgrmX+Urm9Np1nxPDJSDzsZdnFs67xdS/rWBDdpvmLK60Vvy3Jbe8sujqUlxeu0uLvQyt5dP2ZyGRnoyndgglzHw3NsqX438AnJZ3PCRTGnAAAAAASUVORK5CYII="},ffc7:function(t,e,a){}}]);
//# sourceMappingURL=chunk-88653fcc.637ae55e.js.map