(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d222d0c"],{cfe8:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("van-address-edit",{ref:"address",attrs:{"show-postal":"","address-info":e.addressInfo,"area-list":e.areaList,"show-set-default":"",validator:e.validate},on:{save:e.onSave}})},d=[],i=(t("ac6a"),t("456d"),t("7514"),t("7f7f"),t("0edf")),o={data:function(){return{areaList:i["a"],addressInfo:{name:"",tel:"",province:"",city:"",content:"",postalCode:"",areaCode:"",addressDetail:"",isDefault:!0},id:"",query:{}}},methods:{onSave:function(e){var a=this,t=e.name,s=e.tel,d=e.province,i=e.city,o=e.county,r=e.addressDetail,n=e.postalCode,c=e.isDefault;this.$axios.post("/user/saveaddress",{id:this.id,name:t,tel:s,province:d,city:i,area:o,address:r,postcode:n,sta:+c}).then((function(e){var t=e.data;if(1===t.code){var s=a.id?"创建成功":"修改成功";a.$toast(s),a.query.from,a.$router.go(-1)}else a.$toast(t.msg)}))},validate:function(e,a){if("postalCode"===e&&!a)return"请填写邮政编码"}},created:function(){var e=this;Object.assign(this.query,this.$route.query),this.id=this.$route.query.id,this.id&&this.$axios.post("/user/address",{id:this.id}).then((function(a){var t=a.data;if(1===t.code){var s=t.data;if(s){var d=e.addressInfo,o=i["a"].county_list,r=Object.keys(o).find((function(e){return o[e]===s.area}));d.name=s.name,d.tel=s.tel,d.areaCode=r,d.addressDetail=s.address,d.postalCode=s.postcode,d.isDefault=Boolean(s.sta)}}else e.$toast(t.msg)}))}},r=o,n=t("2877"),c=Object(n["a"])(r,s,d,!1,null,"0eb4fdac",null);a["default"]=c.exports}}]);