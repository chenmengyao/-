(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb523a52"],{"0a49":function(t,e,s){var n=s("9b43"),o=s("626a"),a=s("4bf8"),c=s("9def"),i=s("cd1c");t.exports=function(t,e){var s=1==t,r=2==t,l=3==t,u=4==t,d=6==t,A=5==t||d,p=e||i;return function(e,i,h){for(var f,v,m=a(e),g=o(m),y=n(i,h,3),b=c(g.length),S=0,k=s?p(e,b):r?p(e,0):void 0;b>S;S++)if((A||S in g)&&(f=g[S],v=y(f,S,m),t))if(s)k[S]=v;else if(v)switch(t){case 3:return!0;case 5:return f;case 6:return S;case 2:k.push(f)}else if(u)return!1;return d?-1:l||u?u:k}}},2916:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-actionsheet",{attrs:{title:"确认付款","close-on-click-overlay":!1},on:{cancel:t.cancel},model:{value:t.popupShow,callback:function(e){t.popupShow=e},expression:"popupShow"}},[s("van-cell-group",[s("van-cell",{attrs:{title:"请选择付款方式"}}),s("van-radio-group",{on:{change:t.select},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.typeList,function(e){return s("van-radio",{key:e.key,attrs:{name:e.key}},[s("div",{staticClass:"check-line"},[s("img",{staticClass:"pay-image",attrs:{src:e.imgUrl,alt:"pay.name"}}),t._v("\n                    "+t._s(e.name)+"\n                ")])])}),1)],1)],1)},o=[],a={props:{show:{type:Boolean,default:!1}},data:function(){return{radio:"aliPay",popupShow:!1,typeList:[{key:"aliPay",name:"支付宝支付",imgUrl:s("f5f1")},{key:"wechatPay",name:"微信支付",imgUrl:s("c9d29")},{key:"unionPay",name:"银联支付",imgUrl:s("e0a4")},{key:"scorePay",name:"佣金余额支付",imgUrl:s("2ca7")}]}},methods:{cancel:function(){this.$emit("close")},select:function(){this.popupShow=!1,this.$emit("select",this.radio)}},watch:{show:function(){this.popupShow=this.show}}},c=a,i=(s("5ef7"),s("2877")),r=Object(i["a"])(c,n,o,!1,null,"744985c2",null);e["a"]=r.exports},"2ca7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEXzkEL////wkUvzpWvwkEnwjkjwkEnwkUrwkUrwkEvxl1TynmH98ef85dT++PT0rXr4y6n62sP3wZn50rb1t4n4pWZsAAAACnRSTlMC////dhpl0cb02o/3zAAAAbZJREFUSMetVtuWwiAM5KJWEwIU+P9vXW7VVonK7uZFz2kGkmEmIIQQl+tNfRG360WUOC/q61jOc/kVcVJTcRLXOcBV3OYAN6Em4+8A58lYKaWhNeBHAPqS+wgK8A4AUb6ESTwASI4isIBVjsMxAGDyZWQAmgPQfwGQA6xc04YBBA6QxvmGoxVVsqMOALimncLDUdg1ep/r4UrSRudtwnbc63ZewAKkrZ/ApeB9SdcpJM2LD3IH1rutYujCtZHrQfne5VqWdw8CrGN2eKhPK3dgKo17yLyarjZs6xtqFFg9BBTNpJKBbS8qaY1pGrNErpHUZJUlhC67Oh49cfQDtQ+hlAGFhtg15lnHWfKtoqgAvVwRKpxGADQbR1Q1Gru43UGBux6gT40N4PN8siZWFQ8BuV692tJg7LZpPfiDifYsFRFAyudcnYEdAOZgooNFTR90UGcl7rjAUdP1VMkXgVZZVbijp0mzA2h7H0TQCdt+cDxbtbnPOtxPhL2UnqZ3MNuK8HAr4bv7QXvKlRW3ukJxNnb6fAOhdrr/eb1S5i/F6Wt3+mIXc0+HXzxOcpyW754/S65H/ADTKx0Erw86oQAAAABJRU5ErkJggg=="},"504c":function(t,e,s){var n=s("9e1e"),o=s("0d58"),a=s("6821"),c=s("52a7").f;t.exports=function(t){return function(e){var s,i=a(e),r=o(i),l=r.length,u=0,d=[];while(l>u)s=r[u++],n&&!c.call(i,s)||d.push(t?[s,i[s]]:i[s]);return d}}},"5ef7":function(t,e,s){"use strict";var n=s("7842"),o=s.n(n);o.a},"724c":function(t,e,s){t.exports=s.p+"img/shop-logo.837e28c8.png"},7514:function(t,e,s){"use strict";var n=s("5ca1"),o=s("0a49")(5),a="find",c=!0;a in[]&&Array(1)[a](function(){c=!1}),n(n.P+n.F*c,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(a)},7842:function(t,e,s){},8615:function(t,e,s){var n=s("5ca1"),o=s("504c")(!1);n(n.S,"Object",{values:function(t){return o(t)}})},a4d9:function(t,e,s){"use strict";var n=s("acb4"),o=s.n(n);o.a},acb4:function(t,e,s){},c9d29:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAMFBMVEVHcExhukVUszxgukVgukVfukNguURgukVgukVgukRfukNgukVfukJbuUBgukVhuka/oedgAAAAD3RSTlMA7gd/wy1l1Z5MN+EfEbLJvQDgAAABkElEQVQ4y3XUv0rDQBgA8I821ba0Dr5AKlhdUxVREFH6AKmL7djBxak4uAnVQVFULPoAtqPgIIKDorTgC2RyFie3GloTVOh5/5K7JJdvSfL9crncd38AEls6CoVdLgBAFSniCSClq8BuwyxSxj001DAAUw1D0NVgA79xP493AsLhhPz4qxmBFaCRNUOwCzxmgjAqeAAbAfjw81IdMPxZAuBaAockKOYB0hLc4VTSJf1crEFOAgOnNESadL8A+gLapNNF8qna5ea8BKLv1EF5+2bVBz+fOKUVeGty8IdXnWPXJIcez+cevTc6DOr8cbqeJ+8UcTEZvHNYgqlffOnj329Q+OZdv4C2h6+lFhkWgSGDsX1RsQyrrkEf0i0BCQa0iqD1pCI32QzSJuMFCUwGAwpWtMUPuZ9oR/pAk/mFo9uaEfkrdF5i69gPjcM6LbQjoOGvRBoVL59FQXgOVVescD72jB4CNKoEJkoKd9kqXh1mo8DiTI8B1CUQu9ViN2fMdnbiD4DYI0N9yDyQSVEfS//oDM4bVWxtuQAAAABJRU5ErkJggg=="},cd1c:function(t,e,s){var n=s("e853");t.exports=function(t,e){return new(n(t))(e)}},dfa3:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"suwis-confirm-order"},[s("van-cell-group",{staticClass:"address"},[s("van-cell",{attrs:{title:"收货人："+t.address.name+"（"+t.address.tel+"）"}}),s("van-cell",{attrs:{"title-class":"cell-flex",clickable:""},on:{click:t.selectAddress}},[s("template",{slot:"title"},[t._v("\n                收货地址："+t._s(t._f("location")(t.address))+"\n                "),s("van-icon",{staticStyle:{"margin-left":"28px"},attrs:{name:"arrow",size:"10px",color:"#b4b4b4"}})],1)],2)],1),t.shopList&&t.shopList.length?t._l(t.shopList,function(e){return s("div",{staticClass:"goods-box"},[s("div",{staticClass:"shop-info"},[s("img",{staticClass:"shop-logo",attrs:{src:e[0].logo||t.defaultShopLogo,alt:"店铺头像",width:"20",height:"20"}}),s("span",{staticClass:"shop-name"},[t._v(t._s(e[0].name))])]),t._l(e,function(e){return s("van-card",{key:e.goods_id,attrs:{num:t.num,price:e.price,title:e.title,thumb:e.img},on:{click:function(s){return t.onClick(e)}},scopedSlots:t._u([{key:"desc",fn:function(){return[s("div",{staticClass:"desc-line"},[s("div",{staticClass:"desc-item"},[t._v(t._s(e.header_one))]),s("div",{staticClass:"desc-item"},[t._v(t._s(e.header_two))]),s("div",{staticClass:"desc-item"},[t._v(t._s(e.header_three))])])]},proxy:!0}],null,!0)})})],2)}):t._e(),s("van-cell-group",{staticClass:"personal-box"},["single"===t.orderFrom?s("van-cell",{attrs:{title:"购买数量",center:"","value-class":"cell-content"}},[[s("van-stepper",{model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})]],2):t._e(),s("van-cell",{attrs:{title:"配送方式",center:"","value-class":"content"}},[[t._v("\n                普通快递 "),s("span",{staticStyle:{"font-size":"10px"}},[t._v("（运费：￥"+t._s(t.postage)+"）")])]],2),s("van-field",{attrs:{clearable:"",label:"买家留言",placeholder:"请填写备注信息"},model:{value:t.express_remark,callback:function(e){t.express_remark=e},expression:"express_remark"}})],1),s("van-cell-group",{staticClass:"discount-box"},[s("van-cell",{attrs:{center:"","value-class":"cell-content"}},[s("template",{slot:"title"},[s("van-checkbox",{model:{value:t.useCoupon,callback:function(e){t.useCoupon=e},expression:"useCoupon"}},[t._v("卖家优惠券")])],1),[s("div",{on:{click:t.selectCoupon}},[t._v("\n                    去使用\n                    "),s("van-icon",{attrs:{name:"arrow",size:"10px",color:"#b4b4b4"}})],1)]],2),s("van-cell",{attrs:{center:"","value-class":"cell-content short-content"}},[s("template",{slot:"title"},[s("van-checkbox",{model:{value:t.useDiscount,callback:function(e){t.useDiscount=e},expression:"useDiscount"}},[t._v("会员优惠 "),s("span",{staticStyle:{color:"#b4b4b4","font-size":"12px","line-height":"24px"}},[t._v("（会员折扣9.5折）")])])],1),[t._v("\n                -20\n            ")]],2),s("van-cell",{attrs:{center:"","value-class":"cell-content short-content"}},[s("template",{slot:"title"},[s("van-checkbox",{model:{value:t.useScore,callback:function(e){t.useScore=e},expression:"useScore"}},[t._v("积分抵扣："+t._s(t.score)),s("span",{staticStyle:{color:"#b4b4b4","font-size":"12px","line-height":"24px"}},[t._v("（可用积分：1234）")])])],1),[s("div",{on:{click:t.setScore}},[t._v("\n                    去使用\n                    "),s("van-icon",{attrs:{name:"arrow",size:"10px",color:"#b4b4b4"}})],1)]],2)],1),s("van-cell-group",{staticClass:"result-box"},[s("van-cell",{attrs:{title:"还需支付",center:"","value-class":"cell-content"}},[[s("span",{staticStyle:{color:"#e83f44"}},[t._v("￥20")])]],2)],1),s("div",{staticClass:"submit-box"},[t._m(0),s("button",{staticClass:"submit",on:{click:t.toPay}},[t._v("提交订单")])]),s("PayType",{attrs:{show:t.payTypeShow},on:{close:function(e){t.payTypeShow=!1},select:t.selectPayType}}),s("CouponList",{attrs:{title:"选择优惠券"},model:{value:t.couponShow,callback:function(e){t.couponShow=e},expression:"couponShow"}},t._l(t.couponList,function(e){return s("couponItem",{attrs:{title:e.title,desc:"满"+e.total+"元即可使用",price:e.sum,time:t._f("dateFmt")(e.end_time),"btn-text":"使用"},on:{click:t.test}})}),1)],2)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t._v("合计："),s("span",{staticStyle:{color:"#e83f44"}},[t._v("￥20")])])}],a=(s("7514"),s("8615"),s("ac6a"),s("724c")),c=s.n(a),i=s("2916"),r=s("cb92"),l=s("b8f2"),u={components:{CouponList:r["a"],CouponItem:l["a"],PayType:i["a"]},filters:{location:function(t){return t.province+t.city+t.area+t.address||"---"}},computed:{postage:function(){return this.shopList.reduce(function(t,e){return e.forEach(function(e){return t+=e.postage}),t},0)}},data:function(){return{address_id:"",address:{},useCoupon:!0,couponList:[],coupon_id:"",couponShow:!1,useDiscount:!0,defaultShopLogo:c.a,express_remark:"",num:"",score:"",stand_id:"",shopList:[],useScore:!0,orderFrom:"",payTypeShow:!1}},methods:{handleData:function(t){var e=t.reduce(function(t,e){return t[e.id]?t[e.id].push(e):t[e.id]=[e],t},{});this.shopList=Object.values(e)},onClick:function(t){this.$router.push({path:"/goods/details",query:{id:t.id}})},selectAddress:function(){this.$router.push({path:"/uc/setting/address",query:{from:"confirm-order",stand_id:this.stand_id,num:this.num,score:this.score}})},selectCoupon:function(){this.couponList.length?this.couponShow=!0:this.$toast("抱歉，暂无可用优惠券")},selectPayType:function(t){this.payTypeShow=!1},setScore:function(){this.$router.push({path:"/uc/orders/score-discount",query:{address_id:this.address_id,num:this.num,stand_id:this.stand_id}})},toPay:function(){this.payTypeShow=!0,this.$axios.post("/tgoods/topay",{stand_id:this.stand_id,num:this.num,coupon_id:this.useCoupon?this.coupon_id:void 0,is_vip:this.useDiscount?1:void 0,score_sum:this.useScore?this.score:void 0})}},created:function(){var t=this;this.$route.query.stand_id?(this.stand_id=this.$route.query.stand_id,this.num=this.$route.query.num,this.score=this.$route.query.score,this.address_id=this.$route.query.address_id,this.orderFrom="single"):this.$route.query.car_id&&(this.orderFrom="car"),this.$axios.post("/goods/makesureorder",{stand_id:this.stand_id,num:this.num}).then(function(e){var s=e.data;1===s.code?s.data&&(t.handleData([s.data.goods]),t.couponList=s.data.coupon,t.address=s.data.address.find(function(e){return t.address_id?e.id===+t.address_id:1===e.sta}),console.log(t.address)):t.$toast(s.msg)})}},d=u,A=(s("a4d9"),s("2877")),p=Object(A["a"])(d,n,o,!1,null,"5285d6e1",null);e["default"]=p.exports},e0a4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAMAAABEQrEuAAAA3lBMVEVHcEyiPkOpOEBZX18Nd4IOdoIPd4IOdoMfRXUbb32cQEVkW12bRUaNPku3ODutPT8bWnp6PVMRfIMDRIDSNDH////LNDP5+/wNToXu9ffG2eImXZEoiY+8NThhi7CiuM7Y6esJXIG42NoNaYM2kZbi8PCGvcAOdIJwsLSBosC+z97j6vHS3enXSkgXf4aTOEj44+NFdaFVfqYEQ38pQHHifHrnkpBbPF3xv76jzc+Rrciuw9b0zMuZx8pZpKn88/NFmZ5tO1c6P2oMQnztrKvdZGJtk7Z3mrscQXaCZn9VHqEUAAAAEnRSTlMAuv4QXJnf+O/3lSxN2eHr8/ESCzaBAAAC2UlEQVRIx42WbXuaMBSGcVW72V3dhjyGBASKgPKiA6nOd93a6vb//9BCcW0l0e6IXn7IneTmJCdRFB6fa91uR3uN+3YlVB79ZuNGKeOq1tVOoptXAF0t47pRAredU0D7Xh3iTj1BalVA+1EleupL1LlDtwqIGv1X4vpKqQlAJ5eJvw7yQSDOaxTRUMRJVTXy3luiqQje2q8L4lxEJC5ryAhBQ3+P+HlRXEZc1pAQnYcL+ZMSH9oXxUtiOJ0OteHkSaZhhWEQeFVigq2mTTGVaVAwCmJWiEfMNG2GcoxTDQNOzwSqRFp0n25LDWNh8IZ6kQddb1uw1R2coumIf9TRqCCG4N0PsRqm2y3+LJiRxaCZFceEtm1EASWbue/6gzU8l5oFMQEpXKZPmM0wTohBkzFsG3tC2jGYu/bWZOfDWyPA4HlWU6SFxnCKyQwG2BjhGAdOghmIef5GhKmUqgMQp/SYAKsVHgtom46x4HNnxCCs/MvzZ4IN4KobYHc0n67S1UTTVukwtUOW6cs4yrLoYEXZPrIK54A6fsDfgCvJ+b/dlOfiwg2IJyF+H9vx16sb/DF6qmnyh/94ZC1ZV91jzwkW4yVNANrfwSegcD3mjESi87ybcj1OwjCj9tiKl/0A3pyYcxa4nmztlhp6ZNv2ASxKYKkOccDmPo+NjCg1jCVCyy6ImC+q9QYDs/iOJMSxRB8SsDBmi6Vl93gifKzBw5XtqLIo5BYiy8LeJknYd+nAd3jyHFO6B4/ZyGDpIYwlbbc94gTE9SjjK0pGHEv0HlgsgQj0bjCfO3DgjqgjI15OGv15fwiFRySE2lYpPCIhnDSVwiMS9+8UHoEQS/TdO4SoISe650u0TOOEEEp0LgH4GfXlfInWZURDaZ0v0TINftbedM9q9KSTUpRW54yGNH/1N9eMh//JX728/LSKq5KgkYsazSOgKDet2u23j9X4+ukkmo36VdH4L7rT0sos9H2aAAAAAElFTkSuQmCC"},e853:function(t,e,s){var n=s("d3f4"),o=s("1169"),a=s("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},f5f1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAOVBMVEVHcEwNlNoLlNwRltsPlNsRltwRltsQldsRl9sRltsRltsRltsPlNsAldsQltsRltsQldsQltsSlttYcBCZAAAAEnRSTlMAHxGbP+DqYYDVvvYtBqmPc1KrlWl+AAABkUlEQVRIx8WVSZaFIAxFQ99Ls//FloJ+QPEXTKreTE8uaUgIwCErNU9fxbW0cAmTNCWCiz1SaVIK5fNZmpY6fGxpQdueb1qSBb8GeBhlzHNyw9op4MO/rwCHtAakvwSU/ChkINYfUg0AAl9EBoAWH8VsROsPof8l6ZQMO6UzIK9PZl6At7TdG6DpQ3nG6K851CAz4OeBkgybB+IjogZgJOw3FLyuB3IHjxmGT8JNVWzQuTAyPyrDexD3UuK4Gf5M+QIOe0yjEBQ3jvKgIjMA9scDXY3At4BaV37UGhZsN9oqVEduj+0OKHCP12+zTWyRsA7wEAcd67oiUK8qEEC+PE2dUNAnIEE87HNESMcbIzTkImEzfNf3KJhwN0elA+Rgc+AyyLwp2Qkc9xaqD0Vve8Z4dAPM/gOVt0eRWGLob2ajHZBYPsJhdAXsgrmX+Urm9Np1nxPDJSDzsZdnFs67xdS/rWBDdpvmLK60Vvy3Jbe8sujqUlxeu0uLvQyt5dP2ZyGRnoyndgglzHw3NsqX438AnJZ3PCRTGnAAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-eb523a52.08aa99b1.js.map