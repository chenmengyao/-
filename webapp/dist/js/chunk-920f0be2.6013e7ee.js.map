{"version":3,"sources":["webpack:///./src/pages/uc/orders/confirm-order.vue?2704","webpack:///./src/pages/uc/orders/confirm-order.vue?c1a3","webpack:///src/pages/uc/orders/confirm-order.vue","webpack:///./src/pages/uc/orders/confirm-order.vue?b6c7","webpack:///./src/pages/uc/orders/confirm-order.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_confirm_order_vue_vue_type_style_index_0_id_207ffd1a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_confirm_order_vue_vue_type_style_index_0_id_207ffd1a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","address","title-class","clickable","on","click","selectAddress","slot","_v","_s","_f","staticStyle","margin-left","name","size","color","shopList","length","_l","shop","key","id","$event","onClickStore","src","logo","defaultShopLogo","alt","width","height","goods","goods_id","num","orderFrom","price","thumb","img","onClick","scopedSlots","_u","fn","header_one","_e","header_two","header_three","proxy","center","value-class","change","getData","model","value","callback","$$v","expression","font-size","postage","maxlength","clearable","label","placeholder","express_remark","trim","couponList","useCoupon","selectCoupon","coupon","coupon_id","user_type","useDiscount","line-height","vipdiscount","discount","useScore","score_need","directives","rawName","score","setScore","total","toPay","show","payTypeShow","balance-sum","balance_sum","order-id","orderId","close","paySuccess","fail","payFail","pay","confirmPay","couponShow","desc","sum","time","end_time","type","btn-text","onCouponClick","close-on-click-overlay","cancel","closePasswordModal","passwordModalShow","password","to","input","onPasswordInput","delete","onPasswordDelete","staticRenderFns","confirm_ordervue_type_script_lang_js_","components","CouponList","coupon_list","CouponItem","coupon_item","PayType","pay_type","filters","location","v","province","city","area","computed","reduce","result","forEach","Number","data","address_id","tel","car_id","currentPayType","shop_logo_default","a","score_balance","stand_id","methods","getBalance","_this","$axios","post","then","_ref","code","$toast","msg","url","params","_this2","coupon_sum","undefined","is_vip","score_sum","_ref2","handleData","car","use_vipdiscount","find","item","sta","shopData","push","Object","values","$router","path","query","store","store_id","_this3","order","paypass","md5_default","_ref3","setTimeout","replace","activeTabIndex","slice","from","$route","payType","_toPay","asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","is_score","sent","stop","apply","arguments","watch","go","created","_this4","_ref4","catch","error","orders_confirm_ordervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-920f0be2.6013e7ee.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm-order.vue?vue&type=style&index=0&id=207ffd1a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm-order.vue?vue&type=style&index=0&id=207ffd1a&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"suwis-confirm-order\"},[_c('van-cell-group',{staticClass:\"address\"},[_c('van-cell',{attrs:{\"title\":(\"收货人：\" + (_vm.address.name) + \"（\" + (_vm.address.tel) + \"）\")}}),_c('van-cell',{attrs:{\"title-class\":\"cell-flex\",\"clickable\":\"\"},on:{\"click\":_vm.selectAddress}},[_c('template',{slot:\"title\"},[_vm._v(\"\\r\\n        收货地址：\"+_vm._s(_vm._f(\"location\")(_vm.address))+\"\\r\\n        \"),_c('van-icon',{staticStyle:{\"margin-left\":\"28px\"},attrs:{\"name\":\"arrow\",\"size\":\"10px\",\"color\":\"#b4b4b4\"}})],1)],2)],1),(_vm.shopList && _vm.shopList.length)?_vm._l((_vm.shopList),function(shop){return _c('div',{key:shop.id,staticClass:\"goods-box\"},[_c('div',{staticClass:\"shop-info\",on:{\"click\":function($event){return _vm.onClickStore(shop[0])}}},[_c('img',{staticClass:\"shop-logo\",attrs:{\"src\":shop[0].logo || _vm.defaultShopLogo,\"alt\":\"店铺头像\",\"width\":\"20\",\"height\":\"20\"}}),_c('span',{staticClass:\"shop-name\"},[_vm._v(_vm._s(shop[0].name))])]),_vm._l((shop),function(goods){return _c('van-card',{key:goods.goods_id,attrs:{\"num\":_vm.orderFrom === 'single' ? _vm.num : goods.num,\"price\":goods.price,\"title\":goods.title,\"thumb\":goods.img},on:{\"click\":function($event){return _vm.onClick(goods)}},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_c('div',{staticClass:\"desc-line\"},[(goods.header_one)?_c('div',{staticClass:\"desc-item\"},[_vm._v(_vm._s(goods.header_one))]):_vm._e(),(goods.header_two)?_c('div',{staticClass:\"desc-item\"},[_vm._v(_vm._s(goods.header_two))]):_vm._e(),(goods.header_three)?_c('div',{staticClass:\"desc-item\"},[_vm._v(_vm._s(goods.header_three))]):_vm._e()])]},proxy:true}],null,true)})})],2)}):_vm._e(),_c('van-cell-group',{staticClass:\"personal-box\"},[(_vm.orderFrom === 'single')?_c('van-cell',{attrs:{\"title\":\"购买数量\",\"center\":\"\",\"value-class\":\"cell-content\"}},[[_c('van-stepper',{on:{\"change\":_vm.getData},model:{value:(_vm.num),callback:function ($$v) {_vm.num=$$v},expression:\"num\"}})]],2):_vm._e(),_c('van-cell',{attrs:{\"title\":\"配送方式\",\"center\":\"\",\"value-class\":\"content\"}},[[_vm._v(\"\\r\\n        普通快递 \"),_c('span',{staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"（运费：￥\"+_vm._s(_vm.postage)+\"）\")])]],2),_c('van-field',{attrs:{\"maxlength\":\"100\",\"clearable\":\"\",\"label\":\"买家留言\",\"placeholder\":\"请填写备注信息\"},model:{value:(_vm.express_remark),callback:function ($$v) {_vm.express_remark=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"express_remark\"}})],1),_c('van-cell-group',{staticClass:\"discount-box\"},[_c('van-cell',{attrs:{\"center\":\"\",\"value-class\":\"cell-content\"}},[_c('template',{slot:\"title\"},[(_vm.couponList.length)?_c('van-checkbox',{on:{\"change\":_vm.getData},model:{value:(_vm.useCoupon),callback:function ($$v) {_vm.useCoupon=$$v},expression:\"useCoupon\"}},[_vm._v(\"\\r\\n          卖家优惠券\\r\\n        \")]):_c('div',[_vm._v(\"暂无可用优惠券\")])],1),(_vm.couponList.length)?[_c('div',{on:{\"click\":_vm.selectCoupon}},[_c('span',[_vm._v(_vm._s(_vm.coupon.coupon_id ? _vm.coupon.title : '去使用'))]),_c('van-icon',{attrs:{\"name\":\"arrow\",\"size\":\"10px\",\"color\":\"#b4b4b4\"}})],1)]:_vm._e()],2),(_vm.user_type === 1 || _vm.user_type === 2)?_c('van-cell',{attrs:{\"center\":\"\",\"value-class\":\"cell-content short-content\"}},[_c('template',{slot:\"title\"},[_c('van-checkbox',{on:{\"change\":function($event){_vm.useDiscount = true}},model:{value:(_vm.useDiscount),callback:function ($$v) {_vm.useDiscount=$$v},expression:\"useDiscount\"}},[_vm._v(\"会员优惠 \"),(_vm.shopList.length === 1)?_c('span',{staticStyle:{\"color\":\"#b4b4b4\",\"font-size\":\"12px\",\"line-height\":\"24px\"}},[_vm._v(\"（会员折扣\"+_vm._s(_vm.shopList[0][0].vipdiscount)+\"折）\")]):_vm._e()])],1),[_vm._v(\"\\r\\n        -\"+_vm._s(_vm.discount)+\"\\r\\n      \")]],2):_vm._e(),_c('van-cell',{attrs:{\"center\":\"\",\"value-class\":\"cell-content short-content\"}},[_c('template',{slot:\"title\"},[_c('van-checkbox',{on:{\"change\":_vm.getData},model:{value:(_vm.useScore),callback:function ($$v) {_vm.useScore=$$v},expression:\"useScore\"}},[_vm._v(\"\\r\\n          积分抵扣 \"),_c('span',{staticStyle:{\"color\":\"#b4b4b4\",\"font-size\":\"12px\",\"line-height\":\"24px\"}},[_vm._v(\"（可用积分：\"+_vm._s(_vm.score_need)+\"）\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.score),expression:\"score\"}]},[_vm._v(\"使用\"+_vm._s(_vm.score)+\"分\")])])],1),[_c('div',{on:{\"click\":_vm.setScore}},[_vm._v(\"\\r\\n          去使用\\r\\n          \"),_c('van-icon',{attrs:{\"name\":\"arrow\",\"size\":\"10px\",\"color\":\"#b4b4b4\"}})],1)]],2)],1),_c('van-cell-group',{staticClass:\"result-box\"},[_c('van-cell',{attrs:{\"title\":\"还需支付\",\"center\":\"\",\"value-class\":\"cell-content\"}},[[_c('span',{staticStyle:{\"color\":\"#e83f44\"}},[_vm._v(\"￥\"+_vm._s(_vm.total))])]],2)],1),_c('div',{staticClass:\"submit-box\"},[_c('span',[_vm._v(\"合计：\"),_c('span',{staticStyle:{\"color\":\"#e83f44\"}},[_vm._v(_vm._s(_vm.total))])]),_c('button',{staticClass:\"submit\",on:{\"click\":_vm.toPay}},[_vm._v(\"提交订单\")])]),_c('PayType',{attrs:{\"show\":_vm.payTypeShow,\"balance-sum\":_vm.balance_sum,\"order-id\":_vm.orderId},on:{\"close\":_vm.paySuccess,\"fail\":_vm.payFail,\"pay\":_vm.confirmPay}}),_c('CouponList',{attrs:{\"title\":\"选择优惠券\"},model:{value:(_vm.couponShow),callback:function ($$v) {_vm.couponShow=$$v},expression:\"couponShow\"}},_vm._l((_vm.couponList),function(coupon){return _c('couponItem',{key:coupon.id,attrs:{\"title\":coupon.title,\"desc\":(\"满\" + (coupon.total) + \"元即可使用\"),\"price\":coupon.sum,\"time\":coupon.end_time,\"type\":\"1\",\"btn-text\":\"使用\"},on:{\"click\":function($event){return _vm.onCouponClick(coupon)}}})}),1),_c('van-actionsheet',{attrs:{\"title\":\"请输入支付密码\",\"close-on-click-overlay\":false},on:{\"cancel\":_vm.closePasswordModal},model:{value:(_vm.passwordModalShow),callback:function ($$v) {_vm.passwordModalShow=$$v},expression:\"passwordModalShow\"}},[_c('van-password-input',{attrs:{\"value\":_vm.password}}),_c('div',{staticClass:\"link-line\"},[_c('router-link',{staticClass:\"forget-password\",attrs:{\"to\":\"/resetpaypwd\"}},[_vm._v(\"忘记支付密码？\")])],1),_c('van-number-keyboard',{attrs:{\"show\":true},on:{\"input\":_vm.onPasswordInput,\"delete\":_vm.onPasswordDelete}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"suwis-confirm-order\">\r\n  <van-cell-group class=\"address\">\r\n    <van-cell :title=\"`收货人：${address.name}（${address.tel}）`\" />\r\n    <van-cell title-class=\"cell-flex\"\r\n      clickable\r\n      @click=\"selectAddress\">\r\n      <template slot=\"title\">\r\n        收货地址：{{address | location}}\r\n        <van-icon name=\"arrow\"\r\n          size=\"10px\"\r\n          color=\"#b4b4b4\"\r\n          style=\"margin-left: 28px;\" />\r\n      </template>\r\n    </van-cell>\r\n  </van-cell-group>\r\n\r\n  <template v-if=\"shopList && shopList.length\">\r\n    <div class=\"goods-box\"\r\n      v-for=\"shop in shopList\"\r\n      :key='shop.id'>\r\n      <div class=\"shop-info\"\r\n        @click=\"onClickStore(shop[0])\">\r\n        <img class=\"shop-logo\"\r\n          :src=\"shop[0].logo || defaultShopLogo\"\r\n          alt=\"店铺头像\"\r\n          width=\"20\"\r\n          height=\"20\">\r\n        <span class=\"shop-name\">{{shop[0].name}}</span>\r\n      </div>\r\n      <van-card v-for=\"goods in shop\"\r\n        :key=\"goods.goods_id\"\r\n        :num=\"orderFrom === 'single' ? num : goods.num\"\r\n        :price=\"goods.price\"\r\n        :title=\"goods.title\"\r\n        :thumb=\"goods.img\"\r\n        @click=\"onClick(goods)\">\r\n        <template #desc>\r\n          <div class=\"desc-line\">\r\n            <div class=\"desc-item\"\r\n              v-if=\"goods.header_one\">{{goods.header_one}}</div>\r\n            <div class=\"desc-item\"\r\n              v-if=\"goods.header_two\">{{goods.header_two}}</div>\r\n            <div class=\"desc-item\"\r\n              v-if=\"goods.header_three\">{{goods.header_three}}</div>\r\n          </div>\r\n        </template>\r\n      </van-card>\r\n    </div>\r\n  </template>\r\n\r\n  <van-cell-group class=\"personal-box\">\r\n    <van-cell title=\"购买数量\"\r\n      v-if=\"orderFrom === 'single'\"\r\n      center\r\n      value-class=\"cell-content\">\r\n      <template>\r\n        <van-stepper v-model=\"num\"\r\n          @change=\"getData\" />\r\n      </template>\r\n    </van-cell>\r\n    <van-cell title=\"配送方式\"\r\n      center\r\n      value-class=\"content\">\r\n      <template>\r\n        普通快递 <span style=\"font-size: 10px\">（运费：￥{{postage}}）</span>\r\n      </template>\r\n    </van-cell>\r\n    <van-field v-model.trim=\"express_remark\"\r\n      maxlength=\"100\"\r\n      clearable\r\n      label=\"买家留言\"\r\n      placeholder=\"请填写备注信息\" />\r\n  </van-cell-group>\r\n\r\n  <van-cell-group class=\"discount-box\">\r\n    <van-cell center\r\n      value-class=\"cell-content\">\r\n      <template slot=\"title\">\r\n        <van-checkbox v-model=\"useCoupon\"\r\n          v-if=\"couponList.length\"\r\n          @change=\"getData\">\r\n          卖家优惠券\r\n        </van-checkbox>\r\n        <div v-else>暂无可用优惠券</div>\r\n      </template>\r\n      <template v-if=\"couponList.length\">\r\n        <div @click=\"selectCoupon\">\r\n          <span>{{coupon.coupon_id ? coupon.title : '去使用'}}</span>\r\n          <van-icon name=\"arrow\"\r\n            size=\"10px\"\r\n            color=\"#b4b4b4\" />\r\n        </div>\r\n      </template>\r\n\r\n    </van-cell>\r\n    <van-cell center\r\n      value-class=\"cell-content short-content\"\r\n      v-if=\"user_type === 1 || user_type === 2\">\r\n      <template slot=\"title\">\r\n        <van-checkbox v-model=\"useDiscount\"\r\n          @change=\"useDiscount = true\">会员优惠 <span style=\"color: #b4b4b4;font-size: 12px;line-height: 24px;\"\r\n            v-if=\"shopList.length === 1\">（会员折扣{{shopList[0][0].vipdiscount}}折）</span></van-checkbox>\r\n      </template>\r\n      <template>\r\n        -{{discount}}\r\n      </template>\r\n    </van-cell>\r\n    <van-cell center\r\n      value-class=\"cell-content short-content\">\r\n      <template slot=\"title\">\r\n        <van-checkbox v-model=\"useScore\"\r\n          @change=\"getData\">\r\n          积分抵扣 <span style=\"color: #b4b4b4;font-size: 12px;line-height: 24px;\">（可用积分：{{score_need}}）</span>\r\n          <div v-show=\"score\">使用{{score}}分</div>\r\n        </van-checkbox>\r\n      </template>\r\n      <template>\r\n        <div @click=\"setScore\">\r\n          去使用\r\n          <van-icon name=\"arrow\"\r\n            size=\"10px\"\r\n            color=\"#b4b4b4\" />\r\n        </div>\r\n      </template>\r\n    </van-cell>\r\n  </van-cell-group>\r\n\r\n  <van-cell-group class=\"result-box\">\r\n    <van-cell title=\"还需支付\"\r\n      center\r\n      value-class=\"cell-content\">\r\n      <template>\r\n        <span style=\"color: #e83f44\">￥{{total}}</span>\r\n      </template>\r\n    </van-cell>\r\n  </van-cell-group>\r\n\r\n  <div class=\"submit-box\">\r\n    <span>合计：<span style=\"color: #e83f44\">{{total}}</span></span>\r\n    <button class=\"submit\"\r\n      @click=\"toPay\">提交订单</button>\r\n  </div>\r\n\r\n  <PayType :show=\"payTypeShow\"\r\n    @close=\"paySuccess\"\r\n    @fail=\"payFail\"\r\n    @pay=\"confirmPay\"\r\n    :balance-sum=\"balance_sum\"\r\n    :order-id=\"orderId\"></PayType>\r\n\r\n  <CouponList v-model=\"couponShow\"\r\n    title=\"选择优惠券\">\r\n    <couponItem v-for=\"coupon in couponList\"\r\n      :key=\"coupon.id\"\r\n      :title=\"coupon.title\"\r\n      :desc=\"`满${coupon.total}元即可使用`\"\r\n      :price=\"coupon.sum\"\r\n      :time=\"coupon.end_time\"\r\n      type=\"1\"\r\n      btn-text=\"使用\"\r\n      @click=\"onCouponClick(coupon)\">\r\n    </couponItem>\r\n  </CouponList>\r\n\r\n  <van-actionsheet title=\"请输入支付密码\"\r\n    v-model=\"passwordModalShow\"\r\n    :close-on-click-overlay=\"false\"\r\n    @cancel=\"closePasswordModal\">\r\n    <van-password-input :value=\"password\" />\r\n    <div class=\"link-line\">\r\n      <router-link to=\"/resetpaypwd\"\r\n        class=\"forget-password\">忘记支付密码？</router-link>\r\n    </div>\r\n    <van-number-keyboard :show=\"true\"\r\n      @input=\"onPasswordInput\"\r\n      @delete=\"onPasswordDelete\" />\r\n  </van-actionsheet>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport defaultShopLogo from '@/assets/orders/shop-logo.png'\r\nimport PayType from '@/components/uc/orders/pay-type'\r\nimport CouponList from '@//components/coupon-list'\r\nimport CouponItem from '@//components/coupon-item'\r\nimport payTypeMap from '@/constants/order/payType'\r\n\r\nimport md5 from 'md5'\r\n\r\nexport default {\r\n  components: {\r\n    CouponList,\r\n    CouponItem,\r\n    PayType\r\n  },\r\n  filters: {\r\n    location(v) {\r\n      const province = v.province || ''\r\n      const city = v.city || ''\r\n      const area = v.area || ''\r\n      const address = v.address || ''\r\n      return (province + city + area + address) || '---'\r\n    }\r\n  },\r\n  computed: {\r\n    postage() {\r\n      return this.shopList.reduce((result, shop) => {\r\n        shop.forEach(goods => result += Number(goods.postage))\r\n        return result\r\n      }, 0)\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      address_id: '',\r\n      address: {\r\n        name: '',\r\n        tel: ''\r\n      },\r\n      balance_sum: 0, // 可用佣金\r\n      car_id: '',\r\n      couponList: [],\r\n      coupon: {}, // 优惠券id\r\n      currentPayType: null, // 当前支付方式\r\n      couponShow: false,\r\n      discount: 0, // 折扣的金额\r\n      useDiscount: true, // 折扣\r\n      defaultShopLogo,\r\n      express_remark: '', // 备注\r\n      num: 0, // 直接购买时商品的数量\r\n      password: '', // 支付密码\r\n      passwordModalShow: false, // 输入弹框显示\r\n      score_balance: 0, // 可用积分总额\r\n      score_need: 0, // 当前订单可用的积分上限\r\n      score: 0, // 使用的积分\r\n      stand_id: '',\r\n      shopList: [],\r\n      total: 0,\r\n      useCoupon: true,\r\n      useScore: true, // 积分\r\n      orderFrom: '', // 订单来源：single: 直接购买    car：购物车\r\n      payTypeShow: false,\r\n      // 订单id\r\n      orderId: '',\r\n      user_type: 0\r\n    }\r\n  },\r\n  methods: {\r\n    closePasswordModal() {\r\n      this.password = ''\r\n    },\r\n    getBalance() {\r\n      // 查询可用佣金\r\n      this.$axios.post('/mine/mycommission').then(({\r\n        data\r\n      }) => {\r\n        if (data.code === 1) {\r\n          if (data.data) {\r\n            this.balance_sum = data.data\r\n          }\r\n        } else {\r\n          this.$toast(data.msg);\r\n        }\r\n      })\r\n    },\r\n    getData() {\r\n      let url, params\r\n      if (this.orderFrom === 'single') {\r\n        url = '/goods/makesureorder'\r\n        params = {\r\n          stand_id: this.stand_id,\r\n          num: this.num,\r\n          coupon_sum: this.useCoupon ? this.coupon.sum : undefined,\r\n          is_vip: this.useDiscount ? 1 : undefined,\r\n          score_sum: this.useScore ? this.score : undefined\r\n        }\r\n      } else if (this.orderFrom === 'car') {\r\n        url = '/car/makesureorder'\r\n        params = {\r\n          car_id: this.car_id,\r\n          coupon_sum: this.useCoupon ? this.coupon.sum : undefined,\r\n          is_vip: this.useDiscount ? 1 : undefined,\r\n          score_sum: this.useScore ? this.score : undefined\r\n        }\r\n      }\r\n      this.$axios.post(url, params).then(({\r\n        data\r\n      }) => {\r\n        if (data.code === 1) {\r\n          if (data.data) {\r\n            this.handleData(this.orderFrom === 'single' ? [data.data.goods] : data.data.car)\r\n            this.total = data.data.total\r\n            this.discount = data.data.use_vipdiscount\r\n            this.couponList = data.data.coupon\r\n            this.score_need = data.data.score_need || 0\r\n            this.user_type = data.data.user_type\r\n            this.address = data.data.address.find(item => this.address_id ? item.id === +this.address_id : item.sta === 1)\r\n            if (!this.address_id) {\r\n              this.address_id = this.address.id\r\n            }\r\n          }\r\n        } else {\r\n          this.$toast(data.msg);\r\n        }\r\n      })\r\n    },\r\n    // 将商品数据格式化为一个数组，该数组的项是以店铺为单元的商品数组\r\n    handleData(data) {\r\n      // 先生成按照店铺id作为key的对象\r\n      const shopData = data.reduce((result, item) => {\r\n        if (result[item.id]) {\r\n          result[item.id].push(item)\r\n        } else {\r\n          result[item.id] = [item]\r\n        }\r\n        return result\r\n      }, {})\r\n      this.shopList = Object.values(shopData)\r\n    },\r\n    onClick(goods) {\r\n      this.$router.push({\r\n        path: '/goods/details',\r\n        query: {\r\n          id: goods.goods_id\r\n        }\r\n      })\r\n    },\r\n    onClickStore(store) {\r\n      this.$router.push({\r\n        path: '/shop',\r\n        query: {\r\n          id: store.store_id\r\n        }\r\n      })\r\n    },\r\n    onCouponClick(coupon) {\r\n      this.coupon = coupon\r\n      this.getData()\r\n      this.couponShow = false\r\n    },\r\n    onPasswordInput(key) {\r\n      if (this.password.length < 6) {\r\n        this.password = this.password + key\r\n      }\r\n      if (this.password.length === 6) {\r\n        this.$axios.post('/pay/pay', {\r\n          order: this.orderId,\r\n          pay_type: this.currentPayType.key,\r\n          paypass: this.currentPayType.key === 'balancepay' ? md5(this.password) : undefined\r\n        }).then(({\r\n          data\r\n        }) => {\r\n          if (data.code === 1) {\r\n            this.$toast('支付成功');\r\n            this.passwordModalShow = false\r\n            setTimeout(() => {\r\n              // 跳转代发货\r\n              this.$router.replace({\r\n                path: '/uc/orders',\r\n                query: {\r\n                  activeTabIndex: 2\r\n                }\r\n              })\r\n            }, 699)\r\n          } else {\r\n            this.password = ''\r\n            this.$toast(data.msg);\r\n          }\r\n        })\r\n      }\r\n    },\r\n    onPasswordDelete() {\r\n      this.password = this.password.slice(0, this.password.length - 1);\r\n    },\r\n    selectAddress() {\r\n      this.$router.push({\r\n        path: '/uc/setting/address',\r\n        query: {\r\n          from: this.$route.path,\r\n          car_id: this.orderFrom === 'single' ? undefined : this.car_id,\r\n          express_remark: this.express_remark,\r\n          stand_id: this.orderFrom === 'single' ? this.stand_id : undefined,\r\n          num: this.orderFrom === 'single' ? this.num : undefined,\r\n          score: this.score\r\n        }\r\n      })\r\n    },\r\n    selectCoupon() {\r\n      this.couponList.length ? this.couponShow = true : this.$toast('抱歉，暂无可用优惠券')\r\n    },\r\n    confirmPay(key) {\r\n      this.passwordModalShow = true\r\n      this.currentPayType = payTypeMap.find(type => type.key === key)\r\n    },\r\n    // 支付成功\r\n    paySuccess() {\r\n      this.payTypeShow = false\r\n      // 跳转代发货\r\n      this.$router.replace({\r\n        path: '/uc/orders',\r\n        query: {\r\n          activeTabIndex: 2\r\n        }\r\n      })\r\n    },\r\n    // 支付失败\r\n    payFail() {\r\n      this.payTypeShow = false\r\n      // 跳转待付款\r\n      this.$router.replace({\r\n        path: '/uc/orders',\r\n        query: {\r\n          activeTabIndex: 1\r\n        }\r\n      })\r\n    },\r\n    setScore() {\r\n      this.$router.push({\r\n        path: '/uc/orders/score-discount',\r\n        query: {\r\n          address_id: this.address_id,\r\n          car_id: this.orderFrom === 'single' ? undefined : this.car_id,\r\n          express_remark: this.express_remark,\r\n          score_need: this.score_need,\r\n          stand_id: this.orderFrom === 'single' ? this.stand_id : undefined,\r\n          num: this.orderFrom === 'single' ? this.num : undefined,\r\n        }\r\n      })\r\n    },\r\n    async toPay() {\r\n      this.payTypeShow = true\r\n      let url, params;\r\n      if (this.orderFrom === 'single') {\r\n        url = '/goods/topay'\r\n        params = {\r\n          stand_id: this.stand_id,\r\n          num: this.num,\r\n          coupon_id: this.useCoupon ? this.coupon.id : undefined,\r\n          is_vip: this.useDiscount ? 1 : undefined,\r\n          is_score: this.useScore ? this.score : undefined,\r\n          address_id: this.address_id,\r\n          express_remark: this.express_remark || ''\r\n        }\r\n      } else if (this.orderFrom === 'car') {\r\n        url = '/car/topay'\r\n        params = {\r\n          car_id: this.car_id,\r\n          coupon_id: this.useCoupon ? this.coupon.id : undefined,\r\n          is_vip: this.useDiscount ? 1 : undefined,\r\n          is_score: this.useScore ? this.score : undefined,\r\n          address_id: this.address_id,\r\n          express_remark: this.express_remark || ''\r\n        }\r\n      }\r\n      let res = await this.$axios.post(url, params)\r\n      // 记录订单号\r\n      this.orderId = res.data.data\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      if (this.$route.path === to.path) {\r\n        this.$router.go(-1)\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    if (this.$route.query.stand_id) {\r\n      this.orderFrom = 'single'\r\n      this.stand_id = this.$route.query.stand_id\r\n      this.num = this.$route.query.num\r\n    } else if (this.$route.query.car_id) {\r\n      this.orderFrom = 'car'\r\n      this.car_id = this.$route.query.car_id\r\n    }\r\n\r\n    // 查询可用积分\r\n    this.$axios\r\n      .post('/mine/myscore')\r\n      .then(({\r\n        data\r\n      }) => {\r\n        if (data.code === 1) {\r\n          if (data.data) {\r\n            this.score_balance = data.data.score_balance\r\n          }\r\n        } else {\r\n          this.$toast(data.msg);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        this.error = true\r\n      })\r\n\r\n    this.getBalance()\r\n\r\n    this.score = this.$route.query.score\r\n    this.address_id = this.$route.query.address_id\r\n    this.express_remark = this.$route.query.express_remark\r\n    this.getData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.suwis-confirm-order {\r\n    min-height: 100vh;\r\n    margin-bottom: 60px;\r\n    background: #f5f5f5;\r\n    box-sizing: border-box;\r\n    font-size: 14px;\r\n    .address {\r\n        margin-bottom: 8px;\r\n        padding-bottom: 4px;\r\n        background: url(\"../../../assets/orders/address-border@2x.png\") bottom left no-repeat;\r\n        -webkit-background-size: cover;\r\n        background-size: contain;\r\n    }\r\n    .cell-flex {\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    .van-icon {\r\n        line-height: 24px;\r\n    }\r\n    .cell-content {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: flex-end;\r\n        line-height: 24px;\r\n        color: #666;\r\n        font-size: 12px;\r\n        &.short-content {\r\n            flex: 0.3;\r\n        }\r\n    }\r\n    .goods-box {\r\n        margin-bottom: 8px;\r\n        padding: 14px 15px;\r\n        background-color: #fff;\r\n        .van-card {\r\n            padding: 0;\r\n            background: #fff;\r\n        }\r\n        .shop-info {\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n        .shop-logo {\r\n            width: 20px;\r\n            height: 20px;\r\n            margin-right: 8px;\r\n        }\r\n        .shop-name {\r\n            margin-right: 6px;\r\n        }\r\n        .van-card__content {\r\n            justify-content: space-between;\r\n        }\r\n        .van-card__title {\r\n            height: 32px;\r\n        }\r\n        .desc-line {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            color: #999;\r\n            .desc-item {\r\n                padding: 0 6px;\r\n                margin-right: 8px;\r\n                background: rgba(240,145,75,0.1);\r\n            }\r\n        }\r\n    }\r\n    .personal-box {\r\n        margin-bottom: 8px;\r\n    }\r\n\r\n    .submit-box {\r\n        position: fixed;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        bottom: 0;\r\n        width: 100%;\r\n        height: 50px;\r\n        background: #fff;\r\n        font-size: 12px;\r\n        line-height: 50px;\r\n        .submit {\r\n            margin-left: 14px;\r\n            width: 100px;\r\n            padding: 0;\r\n            background: linear-gradient(54deg,rgba(243,90,90,1) 0%,rgba(246,96,62,1) 17%,rgba(221,11,17,1) 100%);\r\n            border: none;\r\n            color: #fff;\r\n        }\r\n    }\r\n    .van-popup {\r\n        .van-icon {\r\n            line-height: 44px;\r\n        }\r\n    }\r\n    .van-password-input {\r\n        margin: 16px 20px;\r\n    }\r\n    .forget-password {\r\n        color: #f0914b;\r\n    }\r\n    .link-line {\r\n        margin: 0 20px 250px;\r\n        text-align: right;\r\n    }\r\n\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm-order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm-order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./confirm-order.vue?vue&type=template&id=207ffd1a&scoped=true&\"\nimport script from \"./confirm-order.vue?vue&type=script&lang=js&\"\nexport * from \"./confirm-order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirm-order.vue?vue&type=style&index=0&id=207ffd1a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"207ffd1a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}