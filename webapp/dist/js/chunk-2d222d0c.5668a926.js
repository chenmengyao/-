(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d222d0c"],{cfe8:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-address-edit",{ref:"address",attrs:{"show-postal":"","address-info":e.addressInfo,"area-list":e.areaList,"show-set-default":"",validator:e.validate},on:{save:e.onSave}})},s=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("7514"),a("bd86")),n=(a("a481"),a("7f7f"),a("0edf"));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(a,!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={data:function(){return{areaList:n["a"],addressInfo:{name:"",tel:"",province:"",city:"",content:"",postalCode:"",areaCode:"",addressDetail:"",isDefault:!0},id:"",query:{}}},methods:{onSave:function(e){var t=this,a=e.name,r=e.tel,s=e.province,o=e.city,n=e.county,i=e.addressDetail,c=e.postalCode,u=e.isDefault;this.$axios.post("/user/saveaddress",{id:this.id,name:a,tel:r,province:s,city:o,area:n,address:i,postcode:c,sta:+u}).then((function(e){var a=e.data;if(1===a.code){var r=t.id?"创建成功":"修改成功";t.$toast(r),t.query.from?t.$router.replace({path:"/uc/setting/address",query:d({},t.query)}):t.$router.replace("/uc/setting/address")}else t.$toast(a.msg)}))},validate:function(e,t){if("postalCode"===e&&!t)return"请填写邮政编码"}},created:function(){var e=this;Object.assign(this.query,this.$route.query),this.id=this.$route.query.id,this.id&&this.$axios.post("/user/address",{id:this.id}).then((function(t){var a=t.data;if(1===a.code){var r=a.data;if(r){var s=e.addressInfo,o=n["a"].county_list,i=Object.keys(o).find((function(e){return o[e]===r.area}));s.name=r.name,s.tel=r.tel,s.areaCode=i,s.addressDetail=r.address,s.postalCode=r.postcode,s.isDefault=Boolean(r.sta)}}else e.$toast(a.msg)}))}},u=c,f=a("2877"),l=Object(f["a"])(u,r,s,!1,null,"35c31652",null);t["default"]=l.exports}}]);